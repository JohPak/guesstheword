<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guess the Word</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  </head>
  <body>

    <div id="app">

    <h1>Guess the Word</h1>

    
    <div v-html="list" class="app"></div>


    <button @click="getAnswer">Get definition</button>
    <h6>Definition: {{list}}</h6> 
    <h6>Textfield: {{tekstikentta}}</h6>


    </div>


    <script>
      var app = new Vue
      ({
          el: "#app",
          data: {
            list:
                [{
                    word: "",
                    shortdefinition: "",
                }],

                //lista: ["eka", "toka"],
            //oliolista: 
            sanalista: [
                {
                    id: 0,
                    name: 'Maitoa',
                    completed: false
                },
                {
                    id: 1,
                    name: 'Leipää',
                    completed: false
                },
                {
                    id: 3,
                    name: 'Banaaneja',
                    completed: false
                }
            ],
            axios_url_start: "https://dictionaryapi.com/api/v3/references/learners/json/",
            searchword: "dog",
            axios_url_end: "?key=5375d6d8-6ba2-4831-b6e0-e1660a4c076d",
            tekstikentta: "hgjg",
            },
        methods: {
              getAnswer: function () {
                //console.log("osoite: " + this.axios_url_start + this.searchword + this.axios_url_end);
                axios.get(this.axios_url_start + this.searchword + this.axios_url_end)
                    .then(function (response) {
                        app.answer = response.data.answer;
                        console.log(response.data);
    
                //ilman this. alkua muuttujilla on vain metodin sisäinen skooppi
                console.log("Word is: " + response.data[0].meta.id);
                console.log("Def is: " + response.data[0].shortdef);
                for (let i = 0; i < response.data[0].shortdef.length; i++) {
                    console.log(response.data[0].shortdef[i]);
                    console.log(response.data[0].shortdef.length);
                    this.sanalista.push({id: 4, name: this.response.data[0].meta.id, completed: false});

                }
                    })
                    .catch(function (error) {
                        app.answer = 'Error! ' + error;
                        console.log(app.answer);
                    })
            }
        }
    
    });

       
        //axioksen source
    </script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>

  </body>
</html>
